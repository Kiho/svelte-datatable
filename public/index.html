<!doctype html>
<html>
<head>
  <meta charset='utf8'>
  <meta name='viewport' content='width=device-width'>

  <title>Svelte DataTable</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel='stylesheet' href='app.css'>
</head>
<body>
  <script src='app.js'></script>
  <div id="data-table"></div>
  <script>   
    var columndata = [ // Array of objects
        {
            label: 'First Name', // Column name
            field: 'fname', // Field name from row
            numeric: false, // Affects sorting
            html: false, // Escapes output if false.
        }, {
            label: 'Last Name',
            field: 'lname',
            numeric: false,
            html: false,
        }, {
            label: 'Age',
            field: 'age',
            numeric: true,
            html: false,
        }, {
            label: 'State',
            field: 'state',
            numeric: false,
            html: false,
        }, {
            label: 'Action',
            field: function (data) {
                    return '<a href="#customers/' + data.id + '" class="waves-effect waves-light btn nopadding">Edit</a>';
                },
            numeric: false,
            html: true,
        }
    ];

    var data = [
        {
            "id": 1,
            "fname": "Gale",
            "lname": "Mcmyne",
            "age": 16,
            "state": "RI"
        }, {
            "id": 2,
            "fname": "Tighe",
            "lname": "Walls",
            "age": 43,
            "state": "AL"
        }, {
            "id": 3,
            "fname": "Anuj",
            "lname": "Wittcop",
            "age": 16,
            "state": "MO"
        }, {
            "id": 4,
            "fname": "Elisha",
            "lname": "Mahan",
            "age": 28,
            "state": "MA"
        }, {
            "id": 5,
            "fname": "Sutman",
            "lname": "Kiab",
            "age": 18,
            "state": "ME"
        }, {
            "id": 6,
            "fname": "Wazir",
            "lname": "Odonoghue",
            "age": 27,
            "state": "ND"
        }, {
            "id": 7,
            "fname": "Renardo",
            "lname": "Schuessler",
            "age": 5,
            "state": "OK"
        }, {
            "id": 8,
            "fname": "Colleen",
            "lname": "Schotuen",
            "age": 33,
            "state": "DE"
        }, {
            "id": 9,
            "fname": "Natalia",
            "lname": "Sacks",
            "age": 24,
            "state": "FL"
        }, {
            "id": 10,
            "fname": "Kamaniee",
            "lname": "Knaus",
            "age": 11,
            "state": "ID"
        }, {
            "id": 11,
            "fname": "Deena",
            "lname": "Downing",
            "age": 39,
            "state": "NM"
        }, {
            "id": 12,
            "fname": "Gueorgui",
            "lname": "Downing",
            "age": 22,
            "state": "LA"
        }, {
        "id": 13,
            "fname": "Toya",
            "lname": "Wallace",
            "age": 19,
            "state": "MD"
        }, {
            "id": 14,
            "fname": "Deborah",
            "lname": "Morrison",
            "age": 14,
            "state": "VT"
        }, {
        "id": 15,
            "fname": "Nerissa",
            "lname": "Wade",
            "age": 7,
            "state": "DE"
        }, {
            "id": 16,
            "fname": "Glenn",
            "lname": "Bommi",
            "age": 8,
            "state": "MO"
        }, {
            "id": 17,
            "fname": "Kate",
            "lname": "Azcunaga",
            "age": 25,
            "state": "ME"
        }, {
            "id": 18,
            "fname": "Jesse",
            "lname": "Ingham",
            "age": 50,
            "state": "OK"
        }, {
            "id": 19,
            "fname": "Gateri",
            "lname": "Sergent",
            "age": 50,
            "state": "MA"
        }, {
            "id": 20,
            "fname": "Marian",
            "lname": "Malmfeldt",
            "age": 50,
            "state": "DC"
        }, {
            "id": 21,
            "fname": "Marian A",
            "lname": "Malmfeldt",
            "age": 51,
            "state": "DC"
        }];

    
    var el = document.querySelector('#data-table');        
    var dataTable = new app.DataTable({
        target: el,
        data: {
            title: 'Customers',
            columns: columndata,
            process: 'local'
        }
    });
        
    dataTable.set({rows: data});
    // dataTable.innerHTML = '<data-table columns=' + JSON.stringify(columndata) + ' rows=[] ></data-table>';
  </script>
</body>
</html>